(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-17dba2f6"],{"3ed3":function(t,e,a){},"3f48":function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"headbar"}},[a("v-toolbar",{attrs:{color:"primary",dark:"",height:"120"}},[a("v-btn",{staticClass:"mt-2",attrs:{icon:""},on:{click:function(e){return t.$router.push(t.datahead.url)}}},[a("v-icon",{attrs:{size:"60"}},[t._v("mdi-chevron-left")])],1),a("v-spacer"),a("v-toolbar-title",{staticClass:"text-center"},[a("h2",[t._v(t._s(t.nameUser)+" "),a("br"),t._v(t._s(t.datahead.title))])]),a("v-spacer")],1)],1)},r=[],o=a("1da1"),l=(a("96cf"),a("bc3a")),s=a.n(l),c={name:"headbar",props:["datahead"],data:function(){return{nameUser:""}},mounted:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,s.a.get("authentication/profile").then((function(e){"apt"==e.data.user.role.role_name&&(t.nameUser=e.data.aptUser.apt.aptName),"school"==e.data.user.role.role_name&&(t.nameUser=e.data.schoolUser.school.schoolName)}));case 2:case"end":return e.stop()}}),e)})))()}},u=c,d=(a("56af"),a("2877")),i=a("6544"),f=a.n(i),h=a("8336"),m=a("132d"),v=a("2fa4"),b=a("71d9"),p=a("2a7f"),x=Object(d["a"])(u,n,r,!1,null,null,null);e["a"]=x.exports;f()(x,{VBtn:h["a"],VIcon:m["a"],VSpacer:v["a"],VToolbar:b["a"],VToolbarTitle:p["a"]})},"56af":function(t,e,a){"use strict";a("3ed3")},"84e2":function(t,e,a){"use strict";a("c113")},c113:function(t,e,a){},e326:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"projectform"}},[a("headbar",{attrs:{datahead:t.datahead}}),a("v-container",[a("v-row",{staticClass:"text-center"},[a("v-col",{attrs:{cols:"12"}},[a("h3",[t._v("รายละเอียดโครงการที่ขอ")])])],1),a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6",md:"3"}},[a("h4",[t._v("โรงเรียน")]),a("v-text-field",{attrs:{"solo-inverted":""},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}}),a("h4",[t._v("ปีการศึกษา")]),a("v-text-field",{attrs:{label:"ปีการศึกษา",solo:"",outlined:""},model:{value:t.dataPro.academicYear,callback:function(e){t.$set(t.dataPro,"academicYear",e)},expression:"dataPro.academicYear"}}),a("v-menu",{ref:"menu",attrs:{"close-on-content-click":!1,"return-value":t.date,transition:"scale-transition","offset-y":"","min-width":"auto"},on:{"update:returnValue":function(e){t.date=e},"update:return-value":function(e){t.date=e}},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on,r=e.attrs;return[a("v-text-field",t._g(t._b({attrs:{label:"ตั่งแต่-ถึง","prepend-icon":"mdi-calendar",readonly:""},model:{value:t.dateRangeText,callback:function(e){t.dateRangeText=e},expression:"dateRangeText"}},"v-text-field",r,!1),n))]}}]),model:{value:t.menu,callback:function(e){t.menu=e},expression:"menu"}},[a("v-date-picker",{attrs:{scrollable:"",range:""},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}},[a("v-spacer"),a("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(e){t.menu=!1}}},[t._v(" Cancel ")]),a("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(e){return t.$refs.menu.save(t.date)}}},[t._v(" OK ")])],1)],1),a("v-text-field",{attrs:{label:"รวม",solo:"",outlined:""},model:{value:t.day,callback:function(e){t.day=e},expression:"day"}}),a("h4",[t._v("จำนวนนักเรียน")]),a("v-text-field",{attrs:{label:"จำนวนนักเรียน",solo:"",outlined:""},model:{value:t.student,callback:function(e){t.student=e},expression:"student"}}),a("h4",[t._v("เป็นงบประมาณ")]),a("v-text-field",{attrs:{label:"บาท/คน",solo:"",outlined:""},model:{value:t.bath,callback:function(e){t.bath=e},expression:"bath"}}),a("v-text-field",{attrs:{label:"รวม",solo:"",outlined:""},model:{value:t.totalbudget,callback:function(e){t.totalbudget=e},expression:"totalbudget"}}),a("h4",[t._v("วันที่บันทึก")]),a("v-text-field",{attrs:{"solo-inverted":""},model:{value:t.today,callback:function(e){t.today=e},expression:"today"}})],1),a("v-row",{attrs:{justify:"center"}},[a("v-col",{attrs:{cols:"4"}},[a("v-btn",{staticClass:"black--text pa-5",attrs:{color:"accent"},on:{click:t.addProject}},[a("h3",[t._v("บันทึก")])])],1)],1)],1)],1)],1)},r=[],o=a("1da1"),l=(a("96cf"),a("b0c0"),a("a15b"),a("bc3a")),s=a.n(l),c=a("3f48"),u={name:"projectform",components:{headbar:c["a"]},data:function(){return{dialog:!1,datahead:{url:"/project",title:"บันทึกโครงการที่ขอ"},name:"",year:null,student:null,day:null,bath:null,budget:null,today:(new Date).toLocaleDateString("th-TH",{timeZone:"UTC"}),date:[],menu:!1,dataPro:{documentNumber:"2564/1023",academicYear:"",startDate:"",endDate:"",numberOfStudent:null,recordedDate:new Date(Date.now()-6e4*(new Date).getTimezoneOffset()).toISOString().substr(0,10),budgetAmount:null,totalDays:null,budgetRate:null,budgetRatePerStudent:21.5}}},mounted:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,s.a.get("authentication/profile").then((function(e){var a=e.data.schoolUser.school;t.name=a.schoolName}));case 2:case"end":return e.stop()}}),e)})))()},computed:{dateRangeText:function(){return this.date.join(" - ")},totalbudget:function(){return parseInt(this.student)*parseInt(this.bath)*parseInt(this.day)}},methods:{addProject:function(){var t=this;this.dataPro.startDate=this.date[0],this.dataPro.endDate=this.date[1],this.dataPro.numberOfStudent=parseInt(this.student),this.dataPro.totalDays=parseInt(this.day),this.dataPro.budgetRate=parseInt(this.bath),this.dataPro.budgetAmount=this.totalbudget,s.a.post("/school-budget-requested",this.dataPro).then((function(e){201==e.status&&t.$router.push({name:"project"})}))}}},d=u,i=(a("84e2"),a("2877")),f=a("6544"),h=a.n(f),m=a("8336"),v=a("62ad"),b=a("a523"),p=a("2e4b"),x=a("e449"),g=a("0fd9"),k=a("2fa4"),_=a("8654"),w=Object(i["a"])(d,n,r,!1,null,null,null);e["default"]=w.exports;h()(w,{VBtn:m["a"],VCol:v["a"],VContainer:b["a"],VDatePicker:p["a"],VMenu:x["a"],VRow:g["a"],VSpacer:k["a"],VTextField:_["a"]})}}]);
//# sourceMappingURL=chunk-17dba2f6.e845771c.js.map