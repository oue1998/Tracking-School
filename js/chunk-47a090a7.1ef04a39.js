(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-47a090a7"],{"9e46":function(t,e,a){},d127:function(t,e,a){"use strict";a("9e46")},ea7a:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"budgetform-DEPT"}},[a("v-toolbar",{attrs:{color:"primary",dark:"",height:"120"}},[a("v-btn",{staticClass:"mt-5",attrs:{icon:""},on:{click:function(e){return t.$router.push("/budget-DEPT/"+t.id)}}},[a("v-icon",{attrs:{size:"60"}},[t._v("mdi-chevron-left")])],1),a("v-spacer"),a("v-toolbar-title",{staticClass:"text-center mt-5"},[a("h2",[t._v(t._s(t.name)+" "),a("br"),t._v("บันทึกการจัดสรรงบฯ")])]),a("v-spacer")],1),a("v-container",[a("v-row",{staticClass:"mt-5"},[a("v-col",{attrs:{cols:"12",sm:"6",md:"3"}},[a("h4",[t._v("หน่วยงาน")]),a("v-text-field",{attrs:{"solo-inverted":""},model:{value:t.aptName,callback:function(e){t.aptName=e},expression:"aptName"}}),a("h4",[t._v("ปีการศึกษา")]),a("v-text-field",{attrs:{label:"ปีการศึกษา",solo:"",outlined:""},on:{change:function(e){return t.showdata()}},model:{value:t.budget.academicYear,callback:function(e){t.$set(t.budget,"academicYear",e)},expression:"budget.academicYear"}}),a("h4",[t._v("จำนวนวัน")]),a("v-text-field",{attrs:{"solo-inverted":""},model:{value:t.dataRE.totalDays,callback:function(e){t.$set(t.dataRE,"totalDays",e)},expression:"dataRE.totalDays"}}),a("h4",[t._v("จำนวนนักเรียน")]),a("v-text-field",{attrs:{"solo-inverted":""},model:{value:t.dataRE.totalStudent,callback:function(e){t.$set(t.dataRE,"totalStudent",e)},expression:"dataRE.totalStudent"}}),a("h4",[t._v("เป็นงบประมาณ")]),a("v-text-field",{attrs:{"solo-inverted":""},model:{value:t.dataRE.totalBudgetRequested,callback:function(e){t.$set(t.dataRE,"totalBudgetRequested",e)},expression:"dataRE.totalBudgetRequested"}}),a("h4",[t._v("งบฯที่เคยจัดสรรไป")]),a("v-text-field",{attrs:{"solo-inverted":""},model:{value:t.dataRE.totalAllocatedBudget,callback:function(e){t.$set(t.dataRE,"totalAllocatedBudget",e)},expression:"dataRE.totalAllocatedBudget"}}),a("h4",[t._v("คงเหลือ")]),a("v-text-field",{attrs:{"solo-inverted":""},model:{value:t.dataRE.remainingAllocatedBudget,callback:function(e){t.$set(t.dataRE,"remainingAllocatedBudget",e)},expression:"dataRE.remainingAllocatedBudget"}})],1)],1),a("v-row",{staticClass:"text-center"},[a("v-col",{attrs:{cols:"12"}},[a("h3",[t._v("ข้อมูลการจัดสรรงบฯ")])])],1),a("v-row",[a("v-col",[a("h4",[t._v("ปีการศึกษา")]),a("v-text-field",{attrs:{"solo-inverted":""},model:{value:t.budget.academicYear,callback:function(e){t.$set(t.budget,"academicYear",e)},expression:"budget.academicYear"}}),a("v-menu",{ref:"menu",attrs:{"close-on-content-click":!1,"return-value":t.date,"nudge-right":30,transition:"scale-transition","offset-y":"","min-width":"auto"},on:{"update:returnValue":function(e){t.date=e},"update:return-value":function(e){t.date=e}},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on,o=e.attrs;return[a("v-text-field",t._g(t._b({attrs:{label:"ตั่งแต่-ถึง","prepend-icon":"mdi-calendar",readonly:""},model:{value:t.dateRangeText,callback:function(e){t.dateRangeText=e},expression:"dateRangeText"}},"v-text-field",o,!1),n))]}}]),model:{value:t.menu,callback:function(e){t.menu=e},expression:"menu"}},[a("v-date-picker",{attrs:{scrollable:"",range:""},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}},[a("v-spacer"),a("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(e){t.menu=!1}}},[t._v(" Cancel ")]),a("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(e){return t.$refs.menu.save(t.date)}}},[t._v(" OK ")])],1)],1),a("v-text-field",{attrs:{label:"เป็นจำนวนวันทั้งหมด",solo:"",outlined:""},model:{value:t.budget.totalDays,callback:function(e){t.$set(t.budget,"totalDays",e)},expression:"budget.totalDays"}}),a("h4",[t._v("งบประมาณทั้งสิ้น")]),a("v-text-field",{attrs:{label:"งบประมาณทั้งสิ้น",solo:"",outlined:""},model:{value:t.budget.allocatedBudgetAmount,callback:function(e){t.$set(t.budget,"allocatedBudgetAmount",e)},expression:"budget.allocatedBudgetAmount"}}),a("h4",[t._v("วันที่คาดว่าจะได้รับ")]),a("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":30,transition:"scale-transition","offset-y":"","min-width":"auto"},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on,o=e.attrs;return[a("v-text-field",t._g(t._b({attrs:{label:"วันที่คาดว่าจะได้รับ","prepend-icon":"mdi-calendar",readonly:""},model:{value:t.picker,callback:function(e){t.picker=e},expression:"picker"}},"v-text-field",o,!1),n))]}}]),model:{value:t.menu2,callback:function(e){t.menu2=e},expression:"menu2"}},[a("v-date-picker",{on:{input:function(e){t.menu2=!1}},model:{value:t.picker,callback:function(e){t.picker=e},expression:"picker"}})],1),a("h4",[t._v("วันที่บันทึก")]),a("v-text-field",{attrs:{"solo-inverted":""},model:{value:t.todayTH,callback:function(e){t.todayTH=e},expression:"todayTH"}})],1)],1),a("v-row",{attrs:{justify:"center"}},[a("v-col",{attrs:{cols:"4"}},[a("v-btn",{staticClass:"black--text pa-5",attrs:{color:"accent"},on:{click:function(e){return t.addBudget()}}},[a("h3",[t._v("บันทึก")])])],1)],1)],1)],1)},o=[],l=(a("a15b"),a("b0c0"),a("99af"),a("bc3a")),d=a.n(l),i={name:"budgetform-DEPT",data:function(){return{dialog:!1,name:"กรมส่งเสริมการปกครอง",id:"",year:"2564",day:200,date:[],menu:!1,menu2:!1,picker:new Date(Date.now()-6e4*(new Date).getTimezoneOffset()).toISOString().substr(0,10),aptName:"",dataRE:{},today:new Date(Date.now()-6e4*(new Date).getTimezoneOffset()).toISOString().substr(0,10),budget:{aptId:null,academicYear:(new Date).getFullYear()+543-1,startDate:null,endDate:null,budgetExpectedDate:null,totalDays:null,allocatedBudgetAmount:null,submissionDate:new Date(Date.now()-6e4*(new Date).getTimezoneOffset()).toISOString().substr(0,10)}}},computed:{dateRangeText:function(){return this.date.join(" ~ ")},todayTH:function(){return new Date(this.today).toLocaleDateString("th-TH",{timeZone:"UTC"})}},created:function(){this.id=this.$route.params.id,this.aptName=this.$route.params.name,this.showdata()},methods:{showdata:function(){var t=this;d.a.get("summary/dla/apt-budget-requested?academicYear=".concat(this.budget.academicYear,"&aptId=").concat(this.id)).then((function(e){t.dataRE=e.data}))},dayTH:function(t){var e=new Date(t).toLocaleDateString("th-TH",{timeZone:"UTC"});return e},addBudget:function(){var t=this;this.budget.aptId=this.id,this.budget.academicYear=parseInt(this.budget.academicYear),this.budget.startDate=this.date[0],this.budget.endDate=this.date[1],this.budget.budgetExpectedDate=this.picker,this.budget.totalDays=parseInt(this.budget.totalDays),this.budget.allocatedBudgetAmount=parseInt(this.budget.allocatedBudgetAmount),console.log("BG",this.budget),d.a.post("dla-apt-transaction",this.budget).then((function(e){console.log(e),201==e.status&&t.$router.push({name:"/budget-DEPT/".concat(t.id)})}))}}},s=i,c=(a("d127"),a("2877")),r=a("6544"),u=a.n(r),v=a("8336"),m=a("62ad"),b=a("a523"),f=a("2e4b"),g=a("132d"),p=a("e449"),h=a("0fd9"),x=a("2fa4"),k=a("8654"),D=a("71d9"),y=a("2a7f"),w=Object(c["a"])(s,n,o,!1,null,null,null);e["default"]=w.exports;u()(w,{VBtn:v["a"],VCol:m["a"],VContainer:b["a"],VDatePicker:f["a"],VIcon:g["a"],VMenu:p["a"],VRow:h["a"],VSpacer:x["a"],VTextField:k["a"],VToolbar:D["a"],VToolbarTitle:y["a"]})}}]);
//# sourceMappingURL=chunk-47a090a7.1ef04a39.js.map