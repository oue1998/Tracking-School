{"version":3,"sources":["webpack:///./src/components/headbar.vue?8359","webpack:///src/components/headbar.vue","webpack:///./src/components/headbar.vue?70b3","webpack:///./src/components/headbar.vue?d61c","webpack:///./src/views/local/budgetform-LC.vue?fc01","webpack:///src/views/local/budgetform-LC.vue","webpack:///./src/views/local/budgetform-LC.vue?9a53","webpack:///./src/views/local/budgetform-LC.vue?3150","webpack:///./src/components/headbar.vue?347b","webpack:///./src/views/local/budgetform-LC.vue?8625"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","staticClass","on","$event","$router","push","datahead","url","_v","_s","nameUser","title","staticRenderFns","name","props","data","component","VBtn","VIcon","VSpacer","VToolbar","VToolbarTitle","model","value","callback","$$v","SCname","expression","showdata","budget","$set","dataRE","ref","date","scopedSlots","_u","key","fn","_g","_b","dateRangeText","menu","$refs","save","picker","menu2","todayTH","addBudget","components","computed","methods","VCol","VContainer","VDatePicker","VMenu","VRow","VTextField"],"mappings":"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","file":"js/chunk-d393d23c.ab7efdae.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"headbar\"}},[_c('v-toolbar',{attrs:{\"color\":\"primary\",\"dark\":\"\",\"height\":\"120\"}},[_c('v-btn',{staticClass:\"mt-2\",attrs:{\"icon\":\"\"},on:{\"click\":function($event){return _vm.$router.push(_vm.datahead.url)}}},[_c('v-icon',{attrs:{\"size\":\"60\"}},[_vm._v(\"mdi-chevron-left\")])],1),_c('v-spacer'),_c('v-toolbar-title',{staticClass:\"text-center\"},[_c('h2',[_vm._v(_vm._s(_vm.nameUser)+\" \"),_c('br'),_vm._v(_vm._s(_vm.datahead.title))])]),_c('v-spacer')],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div id=\"headbar\">\r\n      <v-toolbar color=\"primary\" dark height=\"120\">\r\n      <v-btn icon @click=\"$router.push(datahead.url)\" class=\"mt-2\"> <v-icon size=\"60\">mdi-chevron-left</v-icon> </v-btn>\r\n      <v-spacer></v-spacer>\r\n      <v-toolbar-title class=\"text-center\"><h2>{{ nameUser }} <br>{{datahead.title}}</h2></v-toolbar-title>\r\n      <v-spacer></v-spacer>\r\n  </v-toolbar>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios'\r\nexport default {\r\nname:'headbar',\r\nprops:['datahead'],\r\ndata() {\r\n    return {\r\n        nameUser:''\r\n    }\r\n},\r\nasync mounted () {\r\n      await axios.get('authentication/profile').then((resp) => {\r\n      if(resp.data.user.role.role_name == \"apt\"){\r\n        this.nameUser = resp.data.aptUser.apt.aptName\r\n      }\r\n      if(resp.data.user.role.role_name == \"school\"){\r\n        this.nameUser = resp.data.schoolUser.school.schoolName\r\n      }\r\n      })\r\n    },\r\n}\r\n</script>\r\n\r\n<style>\r\nh2{\r\n  font-size: 24px;\r\n}\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./headbar.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./headbar.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./headbar.vue?vue&type=template&id=0a0c2ce1&\"\nimport script from \"./headbar.vue?vue&type=script&lang=js&\"\nexport * from \"./headbar.vue?vue&type=script&lang=js&\"\nimport style0 from \"./headbar.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VToolbar } from 'vuetify/lib/components/VToolbar';\nimport { VToolbarTitle } from 'vuetify/lib/components/VToolbar';\ninstallComponents(component, {VBtn,VIcon,VSpacer,VToolbar,VToolbarTitle})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"budgetform-LC\"}},[_c('headbar',{attrs:{\"datahead\":_vm.datahead}}),_c('v-container',[_c('v-row',{staticClass:\"mt-5\"},[_c('v-col',{attrs:{\"cols\":\"12\",\"sm\":\"6\",\"md\":\"3\"}},[_c('h4',[_vm._v(\"โรงเรียน\")]),_c('v-text-field',{attrs:{\"solo-inverted\":\"\"},model:{value:(_vm.SCname),callback:function ($$v) {_vm.SCname=$$v},expression:\"SCname\"}}),_c('h4',[_vm._v(\"ปีการศึกษา\")]),_c('v-text-field',{attrs:{\"label\":\"ปีการศึกษา\",\"solo\":\"\",\"outlined\":\"\"},on:{\"change\":function($event){return _vm.showdata()}},model:{value:(_vm.budget.academicYear),callback:function ($$v) {_vm.$set(_vm.budget, \"academicYear\", $$v)},expression:\"budget.academicYear\"}}),_c('h4',[_vm._v(\"จำนวนวัน\")]),_c('v-text-field',{attrs:{\"solo-inverted\":\"\"},model:{value:(_vm.dataRE.totalDays),callback:function ($$v) {_vm.$set(_vm.dataRE, \"totalDays\", $$v)},expression:\"dataRE.totalDays\"}}),_c('h4',[_vm._v(\"จำนวนนักเรียน\")]),_c('v-text-field',{attrs:{\"solo-inverted\":\"\"},model:{value:(_vm.dataRE.totalStudent),callback:function ($$v) {_vm.$set(_vm.dataRE, \"totalStudent\", $$v)},expression:\"dataRE.totalStudent\"}}),_c('h4',[_vm._v(\"เป็นงบประมาณ\")]),_c('v-text-field',{attrs:{\"solo-inverted\":\"\"},model:{value:(_vm.dataRE.totalRequestedBudget),callback:function ($$v) {_vm.$set(_vm.dataRE, \"totalRequestedBudget\", $$v)},expression:\"dataRE.totalRequestedBudget\"}}),_c('h4',[_vm._v(\"งบฯที่เคยจัดสรรไป\")]),_c('v-text-field',{attrs:{\"solo-inverted\":\"\"},model:{value:(_vm.dataRE.allocatedBudget),callback:function ($$v) {_vm.$set(_vm.dataRE, \"allocatedBudget\", $$v)},expression:\"dataRE.allocatedBudget\"}}),_c('h4',[_vm._v(\"คงเหลือ\")]),_c('v-text-field',{attrs:{\"solo-inverted\":\"\"},model:{value:(_vm.dataRE.revicedBudget),callback:function ($$v) {_vm.$set(_vm.dataRE, \"revicedBudget\", $$v)},expression:\"dataRE.revicedBudget\"}})],1)],1),_c('v-row',{staticClass:\"text-center\"},[_c('v-col',{attrs:{\"cols\":\"12\"}},[_c('h3',[_vm._v(\"ข้อมูลการจัดสรรงบฯ\")])])],1),_c('v-row',[_c('v-col',[_c('h4',[_vm._v(\"ปีการศึกษา\")]),_c('v-text-field',{attrs:{\"solo-inverted\":\"\"},model:{value:(_vm.budget.academicYear),callback:function ($$v) {_vm.$set(_vm.budget, \"academicYear\", $$v)},expression:\"budget.academicYear\"}}),_c('v-menu',{ref:\"menu\",attrs:{\"close-on-content-click\":false,\"return-value\":_vm.date,\"nudge-right\":30,\"transition\":\"scale-transition\",\"offset-y\":\"\",\"min-width\":\"auto\"},on:{\"update:returnValue\":function($event){_vm.date=$event},\"update:return-value\":function($event){_vm.date=$event}},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [_c('v-text-field',_vm._g(_vm._b({attrs:{\"label\":\"ตั่งแต่-ถึง\",\"prepend-icon\":\"mdi-calendar\",\"readonly\":\"\"},model:{value:(_vm.dateRangeText),callback:function ($$v) {_vm.dateRangeText=$$v},expression:\"dateRangeText\"}},'v-text-field',attrs,false),on))]}}]),model:{value:(_vm.menu),callback:function ($$v) {_vm.menu=$$v},expression:\"menu\"}},[_c('v-date-picker',{attrs:{\"scrollable\":\"\",\"range\":\"\"},model:{value:(_vm.date),callback:function ($$v) {_vm.date=$$v},expression:\"date\"}},[_c('v-spacer'),_c('v-btn',{attrs:{\"text\":\"\",\"color\":\"primary\"},on:{\"click\":function($event){_vm.menu = false}}},[_vm._v(\" Cancel \")]),_c('v-btn',{attrs:{\"text\":\"\",\"color\":\"primary\"},on:{\"click\":function($event){return _vm.$refs.menu.save(_vm.date)}}},[_vm._v(\" OK \")])],1)],1),_c('v-text-field',{attrs:{\"label\":\"รวมทั้งสิ้น\",\"solo\":\"\",\"outlined\":\"\"},model:{value:(_vm.budget.totalDays),callback:function ($$v) {_vm.$set(_vm.budget, \"totalDays\", $$v)},expression:\"budget.totalDays\"}}),_c('h4',[_vm._v(\"จำนวนนักเรียน\")]),_c('v-text-field',{attrs:{\"label\":\"งบประมาณทั้งสิ้น\",\"solo\":\"\",\"outlined\":\"\"},model:{value:(_vm.budget.numberOfStudent),callback:function ($$v) {_vm.$set(_vm.budget, \"numberOfStudent\", $$v)},expression:\"budget.numberOfStudent\"}}),_c('h4',[_vm._v(\"งบประมาณทั้งสิ้น\")]),_c('v-text-field',{attrs:{\"label\":\"งบประมาณทั้งสิ้น\",\"solo\":\"\",\"outlined\":\"\"},model:{value:(_vm.budget.allocatedBudgetAmount),callback:function ($$v) {_vm.$set(_vm.budget, \"allocatedBudgetAmount\", $$v)},expression:\"budget.allocatedBudgetAmount\"}}),_c('h4',[_vm._v(\"วันที่คาดว่าจะได้รับ\")]),_c('v-menu',{attrs:{\"close-on-content-click\":false,\"nudge-right\":30,\"transition\":\"scale-transition\",\"offset-y\":\"\",\"min-width\":\"auto\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [_c('v-text-field',_vm._g(_vm._b({attrs:{\"label\":\"วันที่คาดว่าจะได้รับ\",\"prepend-icon\":\"mdi-calendar\",\"readonly\":\"\"},model:{value:(_vm.picker),callback:function ($$v) {_vm.picker=$$v},expression:\"picker\"}},'v-text-field',attrs,false),on))]}}]),model:{value:(_vm.menu2),callback:function ($$v) {_vm.menu2=$$v},expression:\"menu2\"}},[_c('v-date-picker',{on:{\"input\":function($event){_vm.menu2 = false}},model:{value:(_vm.picker),callback:function ($$v) {_vm.picker=$$v},expression:\"picker\"}})],1),_c('h4',[_vm._v(\"วันที่บันทึก\")]),_c('v-text-field',{attrs:{\"solo-inverted\":\"\"},model:{value:(_vm.todayTH),callback:function ($$v) {_vm.todayTH=$$v},expression:\"todayTH\"}})],1)],1),_c('v-row',{attrs:{\"justify\":\"center\"}},[_c('v-col',{attrs:{\"cols\":\"4\"}},[_c('v-btn',{staticClass:\"black--text pa-5\",attrs:{\"color\":\"accent\"},on:{\"click\":function($event){return _vm.addBudget()}}},[_c('h3',[_vm._v(\"บันทึก\")])])],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div id=\"budgetform-LC\">\r\n    <headbar :datahead=\"datahead\"/>\r\n      <v-container>\r\n        <v-row class=\"mt-5\">\r\n          <v-col cols=\"12\" sm=\"6\" md=\"3\">\r\n              <h4>โรงเรียน</h4>\r\n              <v-text-field v-model=\"SCname\" solo-inverted></v-text-field>\r\n              <h4>ปีการศึกษา</h4>\r\n              <v-text-field label=\"ปีการศึกษา\" solo outlined  v-model=\"budget.academicYear\" @change=\"showdata()\"></v-text-field>\r\n               <h4>จำนวนวัน</h4>\r\n              <v-text-field v-model=\"dataRE.totalDays\" solo-inverted></v-text-field>\r\n              <h4>จำนวนนักเรียน</h4>\r\n              <v-text-field v-model=\"dataRE.totalStudent\" solo-inverted></v-text-field>\r\n              <h4>เป็นงบประมาณ</h4>\r\n              <v-text-field v-model=\"dataRE.totalRequestedBudget\" solo-inverted></v-text-field>\r\n              <h4>งบฯที่เคยจัดสรรไป</h4>\r\n              <v-text-field v-model=\"dataRE.allocatedBudget\" solo-inverted></v-text-field>\r\n              <h4>คงเหลือ</h4>\r\n              <v-text-field v-model=\"dataRE.revicedBudget\" solo-inverted></v-text-field>\r\n          </v-col>\r\n        </v-row>\r\n                <v-row class=\"text-center\">\r\n          <v-col cols=\"12\">\r\n              <h3>ข้อมูลการจัดสรรงบฯ</h3>\r\n          </v-col>\r\n        </v-row>\r\n        <v-row>\r\n            <v-col>\r\n                <h4>ปีการศึกษา</h4>\r\n                <v-text-field v-model=\"budget.academicYear\" solo-inverted></v-text-field>\r\n                <v-menu\r\n                  ref=\"menu\"\r\n                  v-model=\"menu\"\r\n                  :close-on-content-click=\"false\"\r\n                  :return-value.sync=\"date\"\r\n                  :nudge-right=\"30\"\r\n                  transition=\"scale-transition\"\r\n                  offset-y\r\n                  min-width=\"auto\"\r\n                >\r\n                    <template v-slot:activator=\"{ on, attrs }\">\r\n                      <v-text-field\r\n                        v-model=\"dateRangeText\"\r\n                        label=\"ตั่งแต่-ถึง\"\r\n                        prepend-icon=\"mdi-calendar\"\r\n                        readonly\r\n                        v-bind=\"attrs\"\r\n                        v-on=\"on\"\r\n                      ></v-text-field>\r\n                    </template>\r\n                    <v-date-picker\r\n                      v-model=\"date\"\r\n                      \r\n                      scrollable\r\n                      range\r\n                    >\r\n                      <v-spacer></v-spacer>\r\n                      <v-btn\r\n                        text\r\n                        color=\"primary\"\r\n                        @click=\"menu = false\"\r\n                      >\r\n                        Cancel\r\n                      </v-btn>\r\n                      <v-btn\r\n                        text\r\n                        color=\"primary\"\r\n                        @click=\"$refs.menu.save(date)\"\r\n                      >\r\n                        OK\r\n                      </v-btn>\r\n                    </v-date-picker>\r\n                  </v-menu>\r\n                      <v-text-field label=\"รวมทั้งสิ้น\" solo outlined v-model=\"budget.totalDays\"></v-text-field>\r\n                      <h4>จำนวนนักเรียน</h4>\r\n                      <v-text-field label=\"งบประมาณทั้งสิ้น\" v-model=\"budget.numberOfStudent\" solo outlined></v-text-field>\r\n                      <h4>งบประมาณทั้งสิ้น</h4>\r\n                      <v-text-field label=\"งบประมาณทั้งสิ้น\" v-model=\"budget.allocatedBudgetAmount\" solo outlined></v-text-field>\r\n                      <h4>วันที่คาดว่าจะได้รับ</h4>\r\n                       <v-menu\r\n                            v-model=\"menu2\"\r\n                            :close-on-content-click=\"false\"\r\n                            :nudge-right=\"30\"\r\n                            transition=\"scale-transition\"\r\n                            offset-y\r\n                            min-width=\"auto\"\r\n                          >\r\n                            <template v-slot:activator=\"{ on, attrs }\">\r\n                              <v-text-field\r\n                                v-model=\"picker\"\r\n                                label=\"วันที่คาดว่าจะได้รับ\"\r\n                                prepend-icon=\"mdi-calendar\"\r\n                                readonly\r\n                                v-bind=\"attrs\"\r\n                                v-on=\"on\"\r\n                              ></v-text-field>\r\n                            </template>\r\n                            <v-date-picker\r\n                              v-model=\"picker\"\r\n                              @input=\"menu2 = false\"\r\n                            ></v-date-picker>\r\n                        </v-menu>\r\n                      <h4>วันที่บันทึก</h4>\r\n                      <v-text-field v-model=\"todayTH\" solo-inverted></v-text-field>\r\n            </v-col>\r\n        </v-row>\r\n          <v-row justify=\"center\">\r\n            <v-col cols=\"4\">\r\n              <v-btn color=\"accent\" class=\"black--text pa-5\" @click=\"addBudget()\"><h3>บันทึก</h3></v-btn>\r\n            </v-col>\r\n          </v-row>\r\n      </v-container>\r\n  </div>\r\n</template>\r\n\r\n\r\n<script>\r\nimport axios from 'axios'\r\nimport headbar from '@/components/headbar.vue'\r\nexport default {\r\nname:'budgetform-LC',\r\ncomponents:{headbar},\r\ndata: () => ({\r\n     dialog: false,\r\n    datahead:{\r\n      url: '/pick-LC',\r\n      title:'บันทึกการจัดสรรงบฯ'\r\n    },\r\n    year: \"2564\",\r\n    id:'',\r\n    budget: {\r\n    schoolId:null,\r\n    academicYear : ((new Date()).getFullYear() + 543)-1,\r\n    startDate : null,\r\n    endDate :  null,\r\n    budgetExpectedDate :  null,\r\n    totalDays : null,\r\n    numberOfStudent:null,\r\n    allocatedBudgetAmount : null,\r\n    submissionDate :  (new Date(Date.now() - (new Date()).getTimezoneOffset() * 60000)).toISOString().substr(0, 10)\r\n    },\r\n    date: [],\r\n    menu: false,\r\n    menu2: false,\r\n    picker: (new Date(Date.now() - (new Date()).getTimezoneOffset() * 60000)).toISOString().substr(0, 10),\r\n    dataRE:{},\r\n    SCname:'',\r\n    today:(new Date(Date.now() - (new Date()).getTimezoneOffset() * 60000)).toISOString().substr(0, 10)\r\n  }),\r\n  computed: {\r\n      dateRangeText () {\r\n        return this.date.join(' ~ ')\r\n      },\r\n      todayTH(){\r\n        return (new Date(this.today)).toLocaleDateString(\"th-TH\", { timeZone: \"UTC\" })\r\n      }\r\n    },\r\n    mounted () {\r\n      //this.showdata()\r\n  \r\n    },\r\n    created() {\r\n      this.showdata()\r\n    },\r\n  methods:{\r\n      showdata(){\r\n        this.id = this.$route.params.id;\r\n        axios.get(`summary/apt/school-budget-requested?academicYear=${this.budget.academicYear}&school=${this.id}`).then((resp) => {\r\n        this.dataRE = resp.data\r\n        this.SCname = resp.data.school.schoolName\r\n        this.budget.schoolId = resp.data.school.schoolId\r\n        //console.log(this.dataRE)\r\n      })\r\n      },\r\n       dayTH(value){\r\n        let day = (new Date(value)).toLocaleDateString(\"th-TH\", { timeZone: \"UTC\" })\r\n        return day\r\n      },\r\n      addBudget(){\r\n        this.budget.schoolId = this.id\r\n        this.budget.academicYear = parseInt(this.budget.academicYear),\r\n        this.budget.startDate = this.date[0]\r\n        this.budget.endDate = this.date[1]\r\n        this.budget.budgetExpectedDate = this.picker\r\n        this.budget.totalDays = parseInt(this.budget.totalDays)\r\n        this.budget.allocatedBudgetAmount = parseInt( this.budget.allocatedBudgetAmount)\r\n        this.budget.numberOfStudent = parseInt(this.budget.numberOfStudent)\r\n        console.log('BG',this.budget)\r\n        axios.post('apt-school-transaction',this.budget).then((resp) => {\r\n      console.log(resp)\r\n        if(resp.status == 201){\r\n       this.$router.push({name:'pick-LC'})\r\n        }\r\n      })\r\n      },\r\n\r\n}\r\n\r\n}\r\n</script>\r\n\r\n<style>\r\nh2{\r\n    font-size: 25px;\r\n}\r\nh3{\r\n    font-size: 20px;\r\n    font-weight: 500;\r\n}\r\nh4{\r\n    font-size: 18px;\r\n    font-weight: 400;\r\n    color: black; \r\n}\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./budgetform-LC.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./budgetform-LC.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./budgetform-LC.vue?vue&type=template&id=58b704e4&\"\nimport script from \"./budgetform-LC.vue?vue&type=script&lang=js&\"\nexport * from \"./budgetform-LC.vue?vue&type=script&lang=js&\"\nimport style0 from \"./budgetform-LC.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VDatePicker } from 'vuetify/lib/components/VDatePicker';\nimport { VMenu } from 'vuetify/lib/components/VMenu';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\ninstallComponents(component, {VBtn,VCol,VContainer,VDatePicker,VMenu,VRow,VSpacer,VTextField})\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./headbar.vue?vue&type=style&index=0&lang=css&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./budgetform-LC.vue?vue&type=style&index=0&lang=css&\""],"sourceRoot":""}